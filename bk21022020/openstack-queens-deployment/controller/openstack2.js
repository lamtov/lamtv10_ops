[root@controller02 ~(keystone_admin)]# openstack image list --os-profile foo --debug
START with options: [u'image', u'list', u'--os-profile', u'foo', u'--debug']
options: Namespace(access_key='', access_secret='***', access_token='***', access_token_endpoint='', access_token_type='', aodh_endpoint='', application_credential_id='', application_credential_name='', application_credential_secret='***', auth_type='', auth_url='http://172.16.29.146:5000/v3', cacert=None, cert='', client_id='', client_secret='***', cloud='', code='', consumer_key='', consumer_secret='***', debug=True, default_domain='default', default_domain_id='', default_domain_name='', deferred_help=False, discovery_endpoint='', domain_id='', domain_name='', endpoint='', identity_provider='', identity_provider_url='', insecure=None, interface='', key='', log_file=None, openid_scope='', os_alarming_api_version='2', os_beta_command=False, os_compute_api_version='', os_dns_api_version='2', os_identity_api_version='3', os_image_api_version='2', os_key_manager_api_version='1', os_metrics_api_version='1', os_network_api_version='', os_object_api_version='', os_project_id=None, os_project_name=None, os_volume_api_version='', passcode='', password='***', profile=u'foo', project_domain_id='default', project_domain_name='Default', project_id='', project_name='admin', protocol='', redirect_uri='', region_name='RegionOne', remote_project_domain_id='', remote_project_domain_name='', remote_project_id='', remote_project_name='', roles='', service_provider='', service_provider_endpoint='', service_provider_entity_id='', system_scope='', timing=False, token='***', trust_id='', url='', user='', user_domain_id='default', user_domain_name='Default', user_id='', username='admin', verbose_level=3, verify=None)
Auth plugin password selected
auth_config_hook(): {'auth_type': 'password', 'beta_command': False, u'compute_api_version': u'2', 'key': None, u'database_api_version': u'1.0', 'metrics_api_version': '1', u'metering_api_version': u'2', 'auth_url': 'http://172.16.29.146:5000/v3', u'network_api_version': u'2', u'message': u'', u'image_format': u'qcow2', 'networks': [], u'image_api_version': '2', u'clustering_api_version': u'1', 'verify': True, 'timing': False, u'dns_api_version': '2', u'object_store_api_version': u'1', u'status': u'active', u'container_infra_api_version': u'1', 'verbose_level': 3, 'region_name': 'RegionOne', 'api_timeout': None, u'baremetal_api_version': u'1', 'auth': {'user_domain_name': 'Default', 'project_name': 'admin', 'project_domain_id': 'default', 'user_domain_id': 'default', 'project_domain_name': 'Default'}, 'default_domain': 'default', u'container_api_version': u'1', u'image_api_use_tasks': False, 'profile': u'foo', u'orchestration_api_version': u'1', u'interface': None, 'password': '***', u'application_catalog_api_version': u'1', 'cacert': None, u'key_manager_api_version': '1', u'workflow_api_version': u'2', u'baremetal_status_code_retries': '5', u'identity_api_version': '3', u'volume_api_version': u'2', 'username': 'admin', 'deferred_help': False, 'cert': None, u'secgroup_source': u'neutron', 'alarming_api_version': '2', 'debug': True, u'floating_ip_source': u'neutron', u'block_storage_api_version': u'2', u'disable_vendor_agent': {}}
defaults: {u'auth_type': 'password', u'compute_api_version': u'2', 'key': None, u'database_api_version': u'1.0', u'metering_api_version': u'2', u'network_api_version': u'2', u'message': u'', u'image_format': u'qcow2', u'image_api_version': u'2', u'clustering_api_version': u'1', 'verify': True, u'interface': None, u'dns_api_version': u'2', u'object_store_api_version': u'1', u'status': u'active', u'container_infra_api_version': u'1', 'api_timeout': None, u'baremetal_api_version': u'1', u'image_api_use_tasks': False, u'floating_ip_source': u'neutron', u'orchestration_api_version': u'1', 'cacert': None, u'application_catalog_api_version': u'1', u'key_manager_api_version': u'v1', u'workflow_api_version': u'2', u'baremetal_status_code_retries': 5, u'identity_api_version': u'2.0', u'volume_api_version': u'2', 'cert': None, u'secgroup_source': u'neutron', u'container_api_version': u'1', u'block_storage_api_version': u'2', u'disable_vendor_agent': {}}
cloud cfg: {'auth_type': 'password', 'beta_command': False, u'compute_api_version': u'2', u'orchestration_api_version': u'1', u'database_api_version': u'1.0', 'metrics_api_version': '1', u'metering_api_version': u'2', 'auth_url': 'http://172.16.29.146:5000/v3', u'network_api_version': u'2', u'message': u'', u'image_format': u'qcow2', 'networks': [], u'image_api_version': '2', u'clustering_api_version': u'1', 'verify': True, u'dns_api_version': '2', u'object_store_api_version': u'1', u'status': u'active', u'container_infra_api_version': u'1', 'verbose_level': 3, 'region_name': 'RegionOne', 'api_timeout': None, u'baremetal_api_version': u'1', 'auth': {'user_domain_name': 'Default', 'project_name': 'admin', 'project_domain_name': 'Default', 'user_domain_id': 'default', 'project_domain_id': 'default'}, 'default_domain': 'default', 'debug': True, u'image_api_use_tasks': False, 'profile': u'foo', 'key': None, 'timing': False, 'password': '***', u'application_catalog_api_version': u'1', 'cacert': None, u'key_manager_api_version': '1', u'workflow_api_version': u'2', u'baremetal_status_code_retries': '5', u'block_storage_api_version': u'2', u'identity_api_version': '3', u'volume_api_version': u'2', 'username': 'admin', 'deferred_help': False, 'cert': None, u'secgroup_source': u'neutron', 'alarming_api_version': '2', u'container_api_version': u'1', u'floating_ip_source': u'neutron', u'interface': None, u'disable_vendor_agent': {}}
compute API version 2, cmd group openstack.compute.v2
network API version 2, cmd group openstack.network.v2
image API version 2, cmd group openstack.image.v2
volume API version 2, cmd group openstack.volume.v2
identity API version 3, cmd group openstack.identity.v3
object_store API version 1, cmd group openstack.object_store.v1
neutronclient API version 2, cmd group openstack.neutronclient.v2
dns API version 2, cmd group openstack.dns.v2
key_manager API version 1, cmd group openstack.key_manager.v1
metric API version 1, cmd group openstack.metric.v1
alarming API version 2, cmd group openstack.alarming.v2
Auth plugin password selected
auth_config_hook(): {'auth_type': 'password', 'beta_command': False, u'compute_api_version': u'2', 'key': None, u'database_api_version': u'1.0', 'metrics_api_version': '1', u'metering_api_version': u'2', 'auth_url': 'http://172.16.29.146:5000/v3', u'network_api_version': u'2', u'message': u'', u'image_format': u'qcow2', 'networks': [], u'image_api_version': '2', u'clustering_api_version': u'1', 'verify': True, 'timing': False, u'dns_api_version': '2', u'object_store_api_version': u'1', u'status': u'active', u'container_infra_api_version': u'1', 'verbose_level': 3, 'region_name': 'RegionOne', 'api_timeout': None, u'baremetal_api_version': u'1', 'auth': {'user_domain_name': 'Default', 'project_name': 'admin', 'project_domain_id': 'default', 'user_domain_id': 'default', 'project_domain_name': 'Default'}, 'default_domain': 'default', u'container_api_version': u'1', u'image_api_use_tasks': False, 'profile': u'foo', u'orchestration_api_version': u'1', u'interface': None, 'password': '***', u'application_catalog_api_version': u'1', 'cacert': None, u'key_manager_api_version': '1', u'workflow_api_version': u'2', u'baremetal_status_code_retries': '5', u'identity_api_version': '3', u'volume_api_version': u'2', 'username': 'admin', 'deferred_help': False, 'cert': None, u'secgroup_source': u'neutron', 'alarming_api_version': '2', 'debug': True, u'floating_ip_source': u'neutron', u'block_storage_api_version': u'2', u'disable_vendor_agent': {}}
Init hmackey = foo base_id = None parent_id = None
Auth plugin password selected
auth_config_hook(): {'auth_type': 'password', 'beta_command': False, u'compute_api_version': u'2', 'key': None, u'database_api_version': u'1.0', 'metrics_api_version': '1', u'metering_api_version': u'2', 'auth_url': 'http://172.16.29.146:5000/v3', u'network_api_version': u'2', u'message': u'', u'image_format': u'qcow2', 'networks': [], u'image_api_version': '2', u'clustering_api_version': u'1', 'verify': True, 'timing': False, u'dns_api_version': '2', u'object_store_api_version': u'1', u'status': u'active', u'container_infra_api_version': u'1', 'verbose_level': 3, 'region_name': 'RegionOne', 'api_timeout': None, u'baremetal_api_version': u'1', 'auth': {'user_domain_name': 'Default', 'project_name': 'admin', 'project_domain_id': 'default', 'user_domain_id': 'default', 'project_domain_name': 'Default'}, 'default_domain': 'default', u'container_api_version': u'1', u'image_api_use_tasks': False, 'profile': u'foo', u'orchestration_api_version': u'1', u'interface': None, 'password': '***', u'application_catalog_api_version': u'1', 'cacert': None, u'key_manager_api_version': '1', u'workflow_api_version': u'2', u'baremetal_status_code_retries': '5', u'identity_api_version': '3', u'volume_api_version': u'2', 'username': 'admin', 'deferred_help': False, 'cert': None, u'secgroup_source': u'neutron', 'alarming_api_version': '2', 'debug': True, u'floating_ip_source': u'neutron', u'block_storage_api_version': u'2', u'disable_vendor_agent': {}}
command: image list -> openstackclient.image.v2.image.ListImage (auth=True)
Auth plugin password selected
auth_config_hook(): {'auth_type': 'password', 'beta_command': False, u'compute_api_version': u'2', 'key': None, u'database_api_version': u'1.0', 'metrics_api_version': '1', u'metering_api_version': u'2', 'auth_url': 'http://172.16.29.146:5000/v3', 'additional_user_agent': [('osc-lib', '1.11.1')], u'network_api_version': u'2', u'message': u'', u'image_format': u'qcow2', 'networks': [], u'image_api_version': '2', u'clustering_api_version': u'1', 'verify': True, 'timing': False, u'dns_api_version': '2', u'object_store_api_version': u'1', 'profile': u'foo', u'container_infra_api_version': u'1', 'verbose_level': 3, 'region_name': 'RegionOne', 'api_timeout': None, u'baremetal_api_version': u'1', 'auth': {'user_domain_name': 'Default', 'project_name': 'admin', 'project_domain_id': 'default', 'user_domain_id': 'default', 'project_domain_name': 'Default'}, 'default_domain': 'default', u'container_api_version': u'1', u'image_api_use_tasks': False, u'floating_ip_source': u'neutron', u'orchestration_api_version': u'1', u'interface': None, 'password': '***', u'application_catalog_api_version': u'1', 'cacert': None, u'key_manager_api_version': '1', u'workflow_api_version': u'2', u'baremetal_status_code_retries': '5', u'identity_api_version': '3', u'volume_api_version': u'2', 'username': 'admin', 'deferred_help': False, 'cert': None, u'secgroup_source': u'neutron', u'status': u'active', 'alarming_api_version': '2', 'debug': True, u'block_storage_api_version': u'2', u'disable_vendor_agent': {}}
Using auth plugin: password
Using parameters {'username': 'admin', 'project_name': 'admin', 'project_domain_id': 'default', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'auth_url': 'http://172.16.29.146:5000/v3', 'password': '***', 'project_domain_name': 'Default'}
Get auth_ref
REQ: curl -g -i -X GET http://172.16.29.146:5000/v3 -H "Accept: application/json" -H "User-Agent: openstacksdk/0.17.3 keystoneauth1/3.10.0 python-requests/2.19.1 CPython/2.7.5" -H "X-Trace-HMAC: d019c30dab453b453942a42cab4ab39ad982d067" -H "X-Trace-Info: eyJwYXJlbnRfaWQiOiAiZmQ3MjkyOTItZjc4My00NWI3LTgxYjMtYzFlOGVmNDRmODA5IiwgImJhc2VfaWQiOiAiZmQ3MjkyOTItZjc4My00NWI3LTgxYjMtYzFlOGVmNDRmODA5In0="
Starting new HTTP connection (1): 172.16.29.146
http://172.16.29.146:5000 "GET /v3 HTTP/1.1" 200 198
RESP: [200] Connection: Keep-Alive Content-Encoding: gzip Content-Length: 198 Content-Type: application/json Date: Tue, 05 Nov 2019 04:06:04 GMT Keep-Alive: timeout=15, max=100 Server: Apache/2.4.6 (CentOS) Vary: X-Auth-Token,Accept-Encoding x-openstack-request-id: req-3ad1c8b1-c16d-4ecd-83cb-048440792d43
RESP BODY: {"version": {"status": "stable", "updated": "2018-10-15T00:00:00Z", "media-types": [{"base": "application/json", "type": "application/vnd.openstack.identity-v3+json"}], "id": "v3.11", "links": [{"href": "http://172.16.29.146:5000/v3/", "rel": "self"}]}}
GET call to http://172.16.29.146:5000/v3 used request id req-3ad1c8b1-c16d-4ecd-83cb-048440792d43
Making authentication request to http://172.16.29.146:5000/v3/auth/tokens
http://172.16.29.146:5000 "POST /v3/auth/tokens HTTP/1.1" 201 7916
{"token": {"is_domain": false, "methods": ["password"], "roles": [{"id": "4c2bda97a3fb4275ab193f980f98c36c", "name": "member"}, {"id": "ca2bd49fc0e943f99a361daf7a1fc96a", "name": "admin"}, {"id": "c5d0f0ca08f24aafa4bd74a3e319cc44", "name": "reader"}], "expires_at": "2019-11-05T05:06:09.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "81b702ffac0241aa8e49ce59ac16ebfd", "name": "admin"}, "catalog": [{"endpoints": [{"url": "http://172.16.29.146:8776/v2/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "1c3d49af64c04838bd1e13d3c4cc0fe5"}, {"url": "http://172.16.29.146:8776/v2/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "9c48abeb2b914a5dba604fba26a8dd72"}, {"url": "http://172.16.29.146:8776/v2/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "b9d6cec6654943c38642ab10c6ddb689"}], "type": "volumev2", "id": "3b29128ee46b4a8c9d75a7f11a9b7a3f", "name": "cinderv2"}, {"endpoints": [{"url": "http://172.16.29.146:8041", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "b098747287764a8088ef8186284fa9b2"}, {"url": "http://172.16.29.146:8041", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "c2b6e8a504034e9684745519ab0c8cfc"}, {"url": "http://172.16.29.146:8041", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "f67311f255744bf2a14bcfa040c30781"}], "type": "metric", "id": "5a5106be910348bc8889aea2e5a5dba1", "name": "gnocchi"}, {"endpoints": [{"url": "http://172.16.29.146:8776/v3/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "022b325cdae14a3f955618fc3aca83fa"}, {"url": "http://172.16.29.146:8776/v3/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "0b6a07d71ef64f2eb0813e5764317b46"}, {"url": "http://172.16.29.146:8776/v3/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "4505e26785d34b1fa3c78e3e9d8a5aed"}], "type": "volumev3", "id": "5b568a1c03944c4f85814087f5c9c804", "name": "cinderv3"}, {"endpoints": [{"url": "http://172.16.29.146:9696", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "371ab21232644b67b53b4e81e43d9e0d"}, {"url": "http://172.16.29.146:9696", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "879332d4699e4ab2a7012b539de8655f"}, {"url": "http://172.16.29.146:9696", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "948530da53c247c99a2d0b333d623d4c"}], "type": "network", "id": "68e6a197555e4342aeb019d93a337a73", "name": "neutron"}, {"endpoints": [{"url": "http://172.16.29.146:8777", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "864d29527ea44166960c542e7a62317f"}, {"url": "http://172.16.29.146:8777", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "a8122f2a099941a8a8c99eed61a53f96"}, {"url": "http://172.16.29.146:8777", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "a83c2b3f13cd457b874c5eced87dc908"}], "type": "metering", "id": "6cec244c4e424285b53cf794979e3c55", "name": "ceilometer"}, {"endpoints": [{"url": "http://172.16.29.146:8776/v1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "12d9510c7e054240bf6d0ce7b0646e1d"}, {"url": "http://172.16.29.146:8776/v1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "5bbe0cf154f147ddbc2da86f30252e6d"}, {"url": "http://172.16.29.146:8776/v1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "b4a6f55ed3ef4c9f93084823f3336335"}], "type": "volume", "id": "6d477b6790b74a4693a79510c99890fb", "name": "cinder"}, {"endpoints": [{"url": "http://172.16.29.146:8778/placement", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "2027d9c7b5744834bf226552ff1af32a"}, {"url": "http://172.16.29.146:8778/placement", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "4051f58aeded4798b20244271bf9d283"}, {"url": "http://172.16.29.146:8778/placement", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "d656b0eedc5048508d5b2820cc5e9bba"}], "type": "placement", "id": "79c7fa176cc24db09ee0cdf7932e110d", "name": "placement"}, {"endpoints": [{"url": "http://172.16.29.146:9292", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "1a244391b5984a47b5e7bff750027a36"}, {"url": "http://172.16.29.146:9292", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "cc459a69f15748dfa1eb81448a0d954d"}, {"url": "http://172.16.29.146:9292", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "fd6563edde674bfe988e7225b10119ae"}], "type": "image", "id": "7ff859238cab41cb878ae5d971f403dc", "name": "glance"}, {"endpoints": [{"url": "http://172.16.29.146:8774/v2.1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "72f5cb9cbe694fe3b742136963525a0c"}, {"url": "http://172.16.29.146:8774/v2.1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "a87d7bbdd7bd44be8d673800ace3998f"}, {"url": "http://172.16.29.146:8774/v2.1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "c03b2b615b9f4d50851eb335888fa52e"}], "type": "compute", "id": "87f51642bbcd45009d71bd5d161d2305", "name": "nova"}, {"endpoints": [{"url": "http://172.16.29.146:8042", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "0c153297550c452980a81452d92bd513"}, {"url": "http://172.16.29.146:8042", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "2693846403704c57ad6cf4ca000a2574"}, {"url": "http://172.16.29.146:8042", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "b6ac85325a924dd2b158b8f243ed4063"}], "type": "alarming", "id": "a16a90d5663241d38ec112692f459c05", "name": "aodh"}, {"endpoints": [{"url": "http://172.16.29.146:5000/v3", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "53ae948b43ed4c8cbaa51ef26546e517"}, {"url": "http://172.16.29.146:5000/v3", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "a68720a8baa849fea1925aa1f53e030b"}, {"url": "http://172.16.29.146:35357/v3", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "b25c16d89f6243da9f0e453aea5a2195"}], "type": "identity", "id": "bcee06377b234eb98f261cda5a10d32f", "name": "keystone"}, {"endpoints": [{"url": "http://172.16.29.146:8080/v1/AUTH_81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "104a15a26d1a42e690137967497bea34"}, {"url": "http://172.16.29.146:8080/v1/AUTH_81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "d2d240316e394d15b91a93913d5080c3"}, {"url": "http://172.16.29.146:8080/v1/AUTH_81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "e119d6fb27814c03a7589007f34a383d"}], "type": "object-store", "id": "d6ccad60887e4f1894b045ae5bbe895e", "name": "swift"}], "user": {"domain": {"id": "default", "name": "Default"}, "password_expires_at": null, "name": "admin", "id": "01c394caa3624fa791b5e9c6532a1923"}, "audit_ids": ["PphCEOhZSQm-9DyTpruoKQ"], "issued_at": "2019-11-05T04:06:09.000000Z"}}
run(Namespace(columns=[], community=False, fit_width=False, formatter='table', limit=None, long=False, marker=None, max_width=0, name=None, noindent=False, page_size=None, print_empty=False, private=False, property=None, public=False, quote_mode='nonnumeric', shared=False, sort='name:asc', sort_columns=[], status=None, tag=None))
Instantiating image client: <class 'glanceclient.v2.client.Client'>
Making authentication request to http://172.16.29.146:5000/v3/auth/tokens
http://172.16.29.146:5000 "POST /v3/auth/tokens HTTP/1.1" 201 7916
{"token": {"is_domain": false, "methods": ["password"], "roles": [{"id": "4c2bda97a3fb4275ab193f980f98c36c", "name": "member"}, {"id": "ca2bd49fc0e943f99a361daf7a1fc96a", "name": "admin"}, {"id": "c5d0f0ca08f24aafa4bd74a3e319cc44", "name": "reader"}], "expires_at": "2019-11-05T05:06:12.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "81b702ffac0241aa8e49ce59ac16ebfd", "name": "admin"}, "catalog": [{"endpoints": [{"url": "http://172.16.29.146:8776/v2/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "1c3d49af64c04838bd1e13d3c4cc0fe5"}, {"url": "http://172.16.29.146:8776/v2/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "9c48abeb2b914a5dba604fba26a8dd72"}, {"url": "http://172.16.29.146:8776/v2/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "b9d6cec6654943c38642ab10c6ddb689"}], "type": "volumev2", "id": "3b29128ee46b4a8c9d75a7f11a9b7a3f", "name": "cinderv2"}, {"endpoints": [{"url": "http://172.16.29.146:8041", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "b098747287764a8088ef8186284fa9b2"}, {"url": "http://172.16.29.146:8041", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "c2b6e8a504034e9684745519ab0c8cfc"}, {"url": "http://172.16.29.146:8041", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "f67311f255744bf2a14bcfa040c30781"}], "type": "metric", "id": "5a5106be910348bc8889aea2e5a5dba1", "name": "gnocchi"}, {"endpoints": [{"url": "http://172.16.29.146:8776/v3/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "022b325cdae14a3f955618fc3aca83fa"}, {"url": "http://172.16.29.146:8776/v3/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "0b6a07d71ef64f2eb0813e5764317b46"}, {"url": "http://172.16.29.146:8776/v3/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "4505e26785d34b1fa3c78e3e9d8a5aed"}], "type": "volumev3", "id": "5b568a1c03944c4f85814087f5c9c804", "name": "cinderv3"}, {"endpoints": [{"url": "http://172.16.29.146:9696", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "371ab21232644b67b53b4e81e43d9e0d"}, {"url": "http://172.16.29.146:9696", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "879332d4699e4ab2a7012b539de8655f"}, {"url": "http://172.16.29.146:9696", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "948530da53c247c99a2d0b333d623d4c"}], "type": "network", "id": "68e6a197555e4342aeb019d93a337a73", "name": "neutron"}, {"endpoints": [{"url": "http://172.16.29.146:8777", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "864d29527ea44166960c542e7a62317f"}, {"url": "http://172.16.29.146:8777", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "a8122f2a099941a8a8c99eed61a53f96"}, {"url": "http://172.16.29.146:8777", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "a83c2b3f13cd457b874c5eced87dc908"}], "type": "metering", "id": "6cec244c4e424285b53cf794979e3c55", "name": "ceilometer"}, {"endpoints": [{"url": "http://172.16.29.146:8776/v1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "12d9510c7e054240bf6d0ce7b0646e1d"}, {"url": "http://172.16.29.146:8776/v1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "5bbe0cf154f147ddbc2da86f30252e6d"}, {"url": "http://172.16.29.146:8776/v1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "b4a6f55ed3ef4c9f93084823f3336335"}], "type": "volume", "id": "6d477b6790b74a4693a79510c99890fb", "name": "cinder"}, {"endpoints": [{"url": "http://172.16.29.146:8778/placement", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "2027d9c7b5744834bf226552ff1af32a"}, {"url": "http://172.16.29.146:8778/placement", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "4051f58aeded4798b20244271bf9d283"}, {"url": "http://172.16.29.146:8778/placement", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "d656b0eedc5048508d5b2820cc5e9bba"}], "type": "placement", "id": "79c7fa176cc24db09ee0cdf7932e110d", "name": "placement"}, {"endpoints": [{"url": "http://172.16.29.146:9292", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "1a244391b5984a47b5e7bff750027a36"}, {"url": "http://172.16.29.146:9292", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "cc459a69f15748dfa1eb81448a0d954d"}, {"url": "http://172.16.29.146:9292", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "fd6563edde674bfe988e7225b10119ae"}], "type": "image", "id": "7ff859238cab41cb878ae5d971f403dc", "name": "glance"}, {"endpoints": [{"url": "http://172.16.29.146:8774/v2.1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "72f5cb9cbe694fe3b742136963525a0c"}, {"url": "http://172.16.29.146:8774/v2.1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "a87d7bbdd7bd44be8d673800ace3998f"}, {"url": "http://172.16.29.146:8774/v2.1/81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "c03b2b615b9f4d50851eb335888fa52e"}], "type": "compute", "id": "87f51642bbcd45009d71bd5d161d2305", "name": "nova"}, {"endpoints": [{"url": "http://172.16.29.146:8042", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "0c153297550c452980a81452d92bd513"}, {"url": "http://172.16.29.146:8042", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "2693846403704c57ad6cf4ca000a2574"}, {"url": "http://172.16.29.146:8042", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "b6ac85325a924dd2b158b8f243ed4063"}], "type": "alarming", "id": "a16a90d5663241d38ec112692f459c05", "name": "aodh"}, {"endpoints": [{"url": "http://172.16.29.146:5000/v3", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "53ae948b43ed4c8cbaa51ef26546e517"}, {"url": "http://172.16.29.146:5000/v3", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "a68720a8baa849fea1925aa1f53e030b"}, {"url": "http://172.16.29.146:35357/v3", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "b25c16d89f6243da9f0e453aea5a2195"}], "type": "identity", "id": "bcee06377b234eb98f261cda5a10d32f", "name": "keystone"}, {"endpoints": [{"url": "http://172.16.29.146:8080/v1/AUTH_81b702ffac0241aa8e49ce59ac16ebfd", "interface": "admin", "region": "RegionOne", "region_id": "RegionOne", "id": "104a15a26d1a42e690137967497bea34"}, {"url": "http://172.16.29.146:8080/v1/AUTH_81b702ffac0241aa8e49ce59ac16ebfd", "interface": "internal", "region": "RegionOne", "region_id": "RegionOne", "id": "d2d240316e394d15b91a93913d5080c3"}, {"url": "http://172.16.29.146:8080/v1/AUTH_81b702ffac0241aa8e49ce59ac16ebfd", "interface": "public", "region": "RegionOne", "region_id": "RegionOne", "id": "e119d6fb27814c03a7589007f34a383d"}], "type": "object-store", "id": "d6ccad60887e4f1894b045ae5bbe895e", "name": "swift"}], "user": {"domain": {"id": "default", "name": "Default"}, "password_expires_at": null, "name": "admin", "id": "01c394caa3624fa791b5e9c6532a1923"}, "audit_ids": ["1mOKOVqHRQitv9wDl3oYHA"], "issued_at": "2019-11-05T04:06:12.000000Z"}}
Instantiating image api: <class 'openstackclient.api.image_v2.APIv2'>
REQ: curl -g -i -X GET "http://172.16.29.146:9292/v2/images?marker=None" -H "User-Agent: openstacksdk/0.17.3 keystoneauth1/3.10.0 python-requests/2.19.1 CPython/2.7.5" -H "X-Auth-Token: {SHA1}ab86775406f23093d6dace96430e9696d4032662" -H "X-Trace-HMAC: d019c30dab453b453942a42cab4ab39ad982d067" -H "X-Trace-Info: eyJwYXJlbnRfaWQiOiAiZmQ3MjkyOTItZjc4My00NWI3LTgxYjMtYzFlOGVmNDRmODA5IiwgImJhc2VfaWQiOiAiZmQ3MjkyOTItZjc4My00NWI3LTgxYjMtYzFlOGVmNDRmODA5In0="
Starting new HTTP connection (1): 172.16.29.146
http://172.16.29.146:9292 "GET /v2/images HTTP/1.1" 200 848
RESP: [200] Connection: keep-alive Content-Length: 848 Content-Type: application/json Date: Tue, 05 Nov 2019 04:06:13 GMT X-Openstack-Request-Id: req-5985baca-c605-400e-9022-f33befb001ff
RESP BODY: {"images": [{"container_format": "bare", "min_ram": 0, "updated_at": "2019-10-30T09:17:50Z", "file": "/v2/images/18c25cae-c488-42f1-ab63-6d9833a37c76/file", "owner": "d849d7ee024b40e38ae02d7e304279d9", "id": "18c25cae-c488-42f1-ab63-6d9833a37c76", "size": 13267968, "self": "/v2/images/18c25cae-c488-42f1-ab63-6d9833a37c76", "disk_format": "qcow2", "os_hash_algo": "sha512", "schema": "/v2/schemas/image", "status": "active", "tags": [], "visibility": "public", "min_disk": 0, "virtual_size": null, "name": "cirros", "checksum": "f8ab98ff5e73ebab884d80c9dc9c7290", "created_at": "2019-10-30T09:17:50Z", "os_hidden": false, "protected": false, "os_hash_value": "f0fd1b50420dce4ca382ccfbb528eef3a38bbeff00b54e95e3876b9bafe7ed2d6f919ca35d9046d437c6d2d8698b1174a335fbd66035bb3edc525d2cdb187232"}], "schema": "/v2/schemas/images", "first": "/v2/images"}
GET call to http://172.16.29.146:9292/v2/images used request id req-5985baca-c605-400e-9022-f33befb001ff
REQ: curl -g -i -X GET "http://172.16.29.146:9292/v2/images?marker=18c25cae-c488-42f1-ab63-6d9833a37c76" -H "User-Agent: openstacksdk/0.17.3 keystoneauth1/3.10.0 python-requests/2.19.1 CPython/2.7.5" -H "X-Auth-Token: {SHA1}ab86775406f23093d6dace96430e9696d4032662" -H "X-Trace-HMAC: d019c30dab453b453942a42cab4ab39ad982d067" -H "X-Trace-Info: eyJwYXJlbnRfaWQiOiAiZmQ3MjkyOTItZjc4My00NWI3LTgxYjMtYzFlOGVmNDRmODA5IiwgImJhc2VfaWQiOiAiZmQ3MjkyOTItZjc4My00NWI3LTgxYjMtYzFlOGVmNDRmODA5In0="
http://172.16.29.146:9292 "GET /v2/images?marker=18c25cae-c488-42f1-ab63-6d9833a37c76 HTTP/1.1" 200 69
RESP: [200] Connection: keep-alive Content-Length: 69 Content-Type: application/json Date: Tue, 05 Nov 2019 04:06:13 GMT X-Openstack-Request-Id: req-0018db9a-0400-4bcd-85f9-5a55d738613b
RESP BODY: {"images": [], "schema": "/v2/schemas/images", "first": "/v2/images"}
GET call to http://172.16.29.146:9292/v2/images?marker=18c25cae-c488-42f1-ab63-6d9833a37c76 used request id req-0018db9a-0400-4bcd-85f9-5a55d738613b
+--------------------------------------+--------+--------+
| ID                                   | Name   | Status |
+--------------------------------------+--------+--------+
| 18c25cae-c488-42f1-ab63-6d9833a37c76 | cirros | active |
+--------------------------------------+--------+--------+
clean_up ListImage: 
Trace ID: fd729292-f783-45b7-81b3-c1e8ef44f809
Short trace ID for OpenTracing-based drivers: 81b3c1e8ef44f809
Display trace data with command:
osprofiler trace show --html fd729292-f783-45b7-81b3-c1e8ef44f809 
END return value: 0



curl -g -i -X GET http://172.16.29.146:8774/v2.1/81b702ffac0241aa8e49ce59ac16ebfd/servers/detail -H "Accept: application/json" -H "User-Agent: python-novaclient" -H "X-Auth-Token: gAAAAABdwiYjRMrac_gT5ZvdDde-NKsowIQjZszCHtC0EU7qJt_olfW8K5ApQgcRsJe82-mdyNVrA548RPLlw48PZ5UeoozQfCMNezuk2oSmBrnDHVaUh099niL_gYvvWri7nPjMby3yD9V3uK0Njra4IktpKOYfmzzSIqASL7iXNpl6nw7HejU" -H "X-Openstack-Request-Id: req-2f3921b8-b556-4bd4-a384-ac6cbda573e0"














  990  openstack --debug server list
  991  source ~/vocsrc
  992  openstack --debug server list
  993  openstack token issue
  994  curl -g -i -X GET https://os.controller:8774/v2.1/flavors/detail -H "User-Agent: python-novaclient" -H "Accept: application/json" -H "X-Auth-Token: gAAAAABdwPt-zqVEdkBJilGSxtXJYcukwYckv6Snr_inBI0RTzr4HGt0q3hWpVuMzmcn4S3RfNjeFog1_ojWwVnfGSF3ZpyPoLH1FAhai6PvJkUC0S2z6TefVlqZcTF4yMEVV_cAcSW3PlazRgyuhhlnYxWjZbT8pRaZIOlTWRT6YZuuMc5ezEc" -H "X-Openstack-Request-Id: req-3dccb8c4-08fe-4706-a91d-e843b8fe9ed2"
  995  curl -g -i -X GET https://os.controller:8774/v2.1/flavors/detail -H "User-Agent: python-novaclient" -H "Accept: application/json" -H "X-Auth-Token: gAAAAABdwPt-zqVEdkBJilGSxtXJYcukwYckv6Snr_inBI0RTzr4HGt0q3hWpVuMzmcn4S3RfNjeFog1_ojWwVnfGSF3ZpyPoLH1FAhai6PvJkUC0S2z6TefVlqZcTF4yMEVV_cAcSW3PlazRgyuhhlnYxWjZbT8pRaZIOlTWRT6YZuuMc5ezEc" -H "X-Openstack-Requesttttttttt-Id: req-3dccb8c4-08fe-4706-a91d-e843b8fe9ed2"
  996  curl -g -i -X GET https://os.controller:8774/v2.1/flavors/detail -H "User-Agent: python-novaclient" -H "Accept: application/json" -H "X-Auth-Token: gAAAAABdwPt-zqVEdkBJilGSxtXJYcukwYckv6Snr_inBI0RTzr4HGt0q3hWpVuMzmcn4S3RfNjeFog1_ojWwVnfGSF3ZpyPoLH1FAhai6PvJkUC0S2z6TefVlqZcTF4yMEVV_cAcSW3PlazRgyuhhlnYxWjZbT8pRaZIOlTWRT6YZuuMc"
  997  curl -g -i -X GET https://os.controller:8774/v2.1/flavors/detail -H "User-Agent: python-novaclient" -H "Accept: application/json" -H "X-Auth-Token: gAAAAABdwPt-zqVEdkBJilGSxtXJYcukwYckv6Snr_inBI0RTzr4HGt0q3hWpVuMzmcn4S3RfNjeFog1_ojWwVnfGSF3ZpyPoLH1FAhai6PvJkUC0S2z6TefVlqZcTF4yMEVV_cAcSW3PlazRgyuhhlnYxWjZbT8pRaZIOlTWRT6YZuuMc5ezEc"
  998  history
ll




import logging
import random
from jaeger_client import Config
from opentracing_instrumentation.request_context import get_current_span, span_in_context


def init_tracer_for_demo_and_test(service):
    logging.getLogger('').handlers = []
    logging.basicConfig(format='%(message)s', level=logging.DEBUG)
    config = Config(
        config={
            'sampler': {
                'type': 'const',
                'param': 1,
            },
            'logging': True,
        },
        service_name=service,
    )
    return config.initialize_tracer()



#####################################################################################
            tracer = init_tracer_for_demo_and_test('i am lamtv10111')
            with tracer.start_span('building') as span:
                span.set_tag('Instance', "alpah")
            time.sleep(2)
            tracer.close()
######################################################################################





openstack image list --os-profile SECRET_KEY












